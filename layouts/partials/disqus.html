<div id="disqus_thread"></div>
<script type="text/javascript">
  (function () {
    // Don't ever inject Disqus on localhost--it creates unwanted
    // discussions from 'localhost:1313' on your Disqus account...
    if (window.location.hostname == "localhost") return;

    var disqus_observer = new IntersectionObserver(function(entries) {
      // comments section reached
      // start loading Disqus now
      if(entries[0].isIntersecting) {
          var dsq = document.createElement("script");
          dsq.type = "text/javascript";
          dsq.async = true;
          var disqus_shortname = "{{ .Site.DisqusShortname }}";
          dsq.src = "//" + disqus_shortname + ".disqus.com/embed.js";
          (
            document.getElementsByTagName("head")[0] ||
            document.getElementsByTagName("body")[0]
          ).appendChild(dsq);

          // once executed, stop observing
          disqus_observer.disconnect();
      }
    }, { threshold: [0] });
    disqus_observer.observe(document.querySelector("#disqus_thread"));
  })();
</script>
<noscript>Please enable JavaScript to view the<a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
